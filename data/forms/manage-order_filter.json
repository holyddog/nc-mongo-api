{
    "title": "บริหารจัดการคำสั่งซื้อ",
    "tbar": [],
    "data": [{
            "container": [{
                "fieldset": {
                    "title": "ค้นหา",
                    "rows": [{
                            "cols": [{
                                "cls": "col-md-6",
                                "type": "combobox",
                                "data": {
                                    "mongo": {
                                        "query": "('zz_workspace').find({}, { wsp_id: 1, wsp_name: 1 })"
                                    }
                                },
                                "config": {
                                    "fieldLabel": "Workspace",
                                    "displayField": "wsp_name",
                                    "valueField": "wsp_id",
                                    "name": "wsp_id"
                                }
                            }, {
                                "cls": "col-md-6",
                                "type": "text",
                                "config": {
                                    "fieldLabel": "เลขที่คำสั่งซื้อ",
                                    "name": "e_order_no"
                                }
                            }]
                        }, {
                            "cols": [{
                                "cls": "col-md-6",
                                "type": "text",
                                "query": "{ $regex: \"^.*{{value}}.*$\", $options: \"i\" }",
                                "config": {
                                    "fieldLabel": "ชื่อร้านค้า",
                                    "name": "reg_outlet_name"
                                }
                            }]
                        },
                        {
                            "cols": [{
                                "type": "button",
                                "export": true,
                                "filter": "gridOrders"
                            }]
                        }
                    ]
                }
            }]
        },
        {
            "container": [{
                "rows": [{
                    "cols": [{
                        "type": "grid",
                        "name": "gridOrders",
                        "paging": {
                            "mongo": {
                                "collection": "t_e_order",
                                "filter": [
                                    "e_order_no",
                                    "reg_outlet_name",
                                    "wsp_id"
                                ]
                            }
                        },
                        "columns": [{
                                "action": {
                                    "type": "open",
                                    "dialog": true,
                                    "id": "manage-order_view",
                                    "params": {
                                        "e_order_id": "@e_order_id",
                                        "view": 1
                                    }
                                },
                                "config": {
                                    "text": "เลขที่คำสั่งซื้อ",
                                    "dataIndex": "e_order_no",
                                    "width": 180
                                }
                            },
                            {
                                "config": {
                                    "text": "ชื่อร้านค้า",
                                    "dataIndex": "reg_outlet_name",
                                    "flex": 1
                                }
                            },
                            {
                                "config": {
                                    "text": "ยอดคำสั่งซื้อ",
                                    "dataIndex": "amount",
                                    "width": 150
                                }
                            },
                            {
                                "mapping": "status_entity.value_name",
                                "config": {
                                    "text": "สถานะ",
                                    "dataIndex": "status_entity",
                                    "width": 150
                                }
                            }
                        ]
                    }]
                }]
            }]
        }
    ]
}